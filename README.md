# bmadmin

관리자 프로그램 readme
첫번째로 읽고 따라 실행해주세요.

1. 환경 설정
	- java version : 11.0.9
	- db(h2) version : 1.4.199
	- 메이븐 : 4.0.0
	- thymleaf
	
2. maven 빌드 goal : clean package

3. 테이블 생성
	- bmadmin.sql 파일 내용 h2 콘솔에서 실행
	
4. 실행 순서
	1. h2 db 설치
	2. C:/Users/{사용자계정}/test 파일 생성 (데이터 베이스명 test)
	3. {h2 설치 경로}/bin/h2.bat 실행 (계정:sa/1234)
	4. bmadmin.sql 파일 내용 h2 콜솔에서 실행
	5. bmadmin 메이븐 빌드(goal : clean package)
	6. java jar 파일 실행
	7. localhost:8081 접속 (관리자 기본계정 : admin@test.com/AdminP@ssw0rd)
	
5. 비기능적 요구사항
	1. 소스 코드를 여러 명이 사용할 때 어떻게 관리할 것인가
		- 파트가 나눠져 접근해야 하는 파일의 구분이 명확한 경우, 해당 기능에 대한 수정을 본인이 하지 않고 해당 기능을 수행하는 파일을 담당하는 파트에 해당 기능을 요청한다.
		  하지만 일을 하면서 느낀 점은 그렇게 해도 그 팀 역시 바쁘기 때문에 내 요청사항이 빠르게 반영되기는 쉽지 않은 것이 현실이다.
		  그래서 나의 경우 로컬에서 해당 파일에 내가 원하는 기능을 생성하고 테스트 해본 후 해당 내용을 첨부해 요청했었다.
		  
	2. 타 팀에서 해당 프로젝트의 API를 사용할 때의 용이성
		- 현재 구성한 프로그램에서는 페이지에 접근하고 해당 페이지를 구성하는데 필요한 일부 기능을 제외하고는 restful로 개발하려고 했다.
		  따라서 적절한 조회(method와 url)를 이용할 경우 필요한 정보를 얻을 수 있다.
		  GET method 이외의 값을 요청할 경우 spring security에서 사용하는 csrf값을 파라미터에 추가해 보내야 한다.
		  사용 가능한 url과 method는 엑셀에 정리되있다.
	
	3. 보안
		- 관리자 기능에서는 로그인 페이지와 로그인 수행 url을 제외한 다른 기능은 ROLE_ADMIN 권한이 있어야 접근 가능하도록 했다.
		  그 외 XSS 공격 방지를 위해 html필터를 사용했다.
		  
		  ssl을 적용하지 않았기에 비밀번호를 입력할 경우 화면에서 BCrypt를 하고 싶었지만 시간관계상 개발도, 마땅한 라이브러리를 찾지도 못했다.
		  추후 ssl을 적용하고 화면에서 비밀번호를 BCrypt해 서버로 전송, 서버에서는 저장된 BCrypt된 비밀번호와 비교만 하도록 수정하는 것이 좋을 것 같다.
		  
		  서버 오류 발생 시 페이지는 사용자측에서 확인할 수 없도록 같은 내용을 가진 다른 파일들로 이동하도록 설정했다.
		  
		  사용자의 비밀번호를 초기화하는 프로세스의 경우 입력값이 누출될 것 같아 사용자 이메일로 초기화되도록 수정했으나 이 역시 위험하기 때문에
		  추후 사용자 관리페이지에서 설정값을 변경하고 해당 사용자가 사용자페이지 로그인 시 비밀번호를 수정하는 로직이 추가되면 좋을 것 같다.
		  
		  이메일과 이름을 받기 때문에 개인정보보호법에서 정한 관리(주기적인 삭제 및 연단위 휴면 관리)를 해야할 가능성이 있다. (2012.2월 개인정보보호법 상담사례집 참고, 2018년/2019년 버전에서는 찾지 못함)
		  
	4. 코드의 품질과 버그를 관리할 수 있는 방안
		- 되도록 내용을 엑셀로 정리하며 하고 싶었지만 시간관계상 모든 내용을 정리하며 하지는 못했다.
		  코드의 품질 경우 junit을 이용해 테스트를 하면 좋겠지만 이역시 이번에는 적용하지 못했다.
		  
		  버그 관리의 경우 사용자의 접근 url이나 호출시 파라미터, 성공 실패 여부 등등 에러를 추적할 수 있는 프로세스를 적용하면 좋을 것 같다.
		  특히 url과 호출 파라미터를 조합할 경우 상당부분의 에러 발생 시 큰 도움이 될 것 같다.
